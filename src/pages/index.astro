---
import { POSTS_PER_PAGE } from "../config.json";
import { getBlogPosts } from "src/utils";
import PostList from "$layouts/PostList.astro";

const posts = (await getBlogPosts()).splice(0, POSTS_PER_PAGE);

const total = Math.ceil((await getBlogPosts()).length / POSTS_PER_PAGE);
---

<PostList {posts} totalPages={total} currentPage={1} showFeatured>
  <h1>Latest blog posts</h1>
</PostList>
